
![%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-07-13_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_2.51.01.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/420927ef-2057-4e77-b9b7-d7005a1db0dd/772e237f-34b9-4369-b75d-4b93489aad86/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-07-13_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_2.51.01.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240809%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240809T111639Z&X-Amz-Expires=3600&X-Amz-Signature=0560601b2fff30f1cdf88ec0f891814752ac3d088e119c63a3a8381c2cec936a&X-Amz-SignedHeaders=host&x-id=GetObject)


## ë¦¬ì•¡íŠ¸ë¡œ í…ŒíŠ¸ë¦¬ìŠ¤ êµ¬í˜„í•˜ê¸°


ğŸ’Â í”„ë¡œì íŠ¸ ê¸°ê°„


24.07.10 ~ 24.07.13


ğŸ’Â ê°•ì˜ ì˜ìƒ


[https://youtu.be/ZGOaCxX8HIU?si=huQFEmHpmzXRjN0u](https://youtu.be/ZGOaCxX8HIU?si=huQFEmHpmzXRjN0u)


ğŸ’Â ê¹ƒí—ˆë¸Œ ì£¼ì†Œ


[https://github.com/kohigowild/block-master-kohi](https://github.com/kohigowild/block-master-kohi)


ğŸ’Â ì„œë¹„ìŠ¤ ë°°í¬ ë§í¬


[https://blockmasterkohi.netlify.app](https://blockmasterkohi.netlify.app/)


## What I Learned


ë¸”ë¡ì˜ íšŒì „, ì´ë™, ì¶©ëŒ ê°ì§€, ì¤„ ì œê±° ë“±ì˜ ë¡œì§ êµ¬í˜„


```javascript
  function rotate(matrix, dir) {
    const mtrx = matrix.map((_, index) => matrix.map((column) => column[index]))
    if (dir > 0) return mtrx.map((row) => row.reverse())
    return mtrx.reverse()
  }
  
  function playerRotate(stage, dir) {
    const clonedPlayer = JSON.parse(JSON.stringify(player))
    clonedPlayer.tetromino = rotate(clonedPlayer.tetromino, dir)

    const pos = clonedPlayer.pos.x
    let offset = 1
    while (checkCollision(clonedPlayer, stage, { x: 0, y: 0 })) {
      clonedPlayer.pos.x += offset
      offset = -(offset + (offset > 0 ? 1 : -1))
      if (offset > clonedPlayer.tetromino[0].length) {
        rotate(clonedPlayer.tetromino, -dir)
        clonedPlayer.pos.x = pos
        return
      }
    }
    setPlayer(clonedPlayer)
  }
```


ì´ë²ˆ ê°•ì˜ ì¤‘ ì‘ì„±í–ˆë˜ ì½”ë“œ ì¤‘ ì¼ë¶€ì´ë‹¤.

- rotate : ì „ì¹˜ í–‰ë ¬(í–‰ê³¼ ì—´ì„ ë’¤ë°”ê¾¼ í–‰ë ¬)ì„ ìƒì„±í•œ ë’¤ dirê°€ ì–‘ìˆ˜ì¸ ê²½ìš° ì „ì¹˜ëœ í–‰ë ¬ì˜ ê° í–‰ì„ ë’¤ì§‘ëŠ”ë‹¤. (ì‹œê³„ ë°©í–¥ìœ¼ë¡œ 90ë„ íšŒì „í•œ íš¨ê³¼)
- checkCollision : íšŒì „í•œ ë¸”ë¡ì´ ì¶©ëŒí•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” í•¨ìˆ˜, ì¶©ëŒì´ ë°œìƒí•˜ë©´ ë¸”ë¡ ì´ë™
- offsetì´ ë¸”ë¡ì˜ ë„ˆë¹„ë¥¼ ì´ˆê³¼í•˜ëŠ” ê²½ìš° ë¸”ë¡ì„ ì›ë˜ ìƒíƒœë¡œ ë˜ëŒë¦¬ê³  í•¨ìˆ˜ë¥¼ ì¢…ë£Œí•œë‹¤.

í•´ë‹¹ ì½”ë“œëŠ” ë¸”ë¡ì„ íšŒì „ì‹œí‚¤ê³ , íšŒì „í•˜ëŠ” ë¸”ë¡ì´ ì¶©ëŒí•˜ì§€ ì•Šë„ë¡ ìœ„ì¹˜ë¥¼ ì¡°ì •í•´ ì£¼ëŠ” ê¸°ëŠ¥ ì •ë„ì§€ë§Œ, ì•Œê³ ë¦¬ì¦˜ì— ëŒ€í•œ ì´í•´ë„ê°€ ì–´ëŠ ì •ë„ ìˆì–´ì•¼ êµ¬í˜„ì´ ê°€ëŠ¥í•˜ë‹¤. ê·¸ì¹˜ë§Œ ë„ˆë¬´ë„ˆë¬´ í•˜ê¸° ì‹«ì€ ì•Œê³ ë¦¬ì¦˜ ê³µë¶€


![64d1e336fbedab520699502c79d294a7.jpg](https://prod-files-secure.s3.us-west-2.amazonaws.com/420927ef-2057-4e77-b9b7-d7005a1db0dd/ca27d101-6f1a-4bba-b341-ade2bcb7e908/64d1e336fbedab520699502c79d294a7.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240809%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240809T111638Z&X-Amz-Expires=3600&X-Amz-Signature=2a32c071132a4c159dffb22c3dbc14d1918e59c51844e060d881870325c73ef8&X-Amz-SignedHeaders=host&x-id=GetObject)


ì¢€ ì¬ë°Œì—ˆë˜ ê±°ëŠ” use-soundì¸ë°, ê°•ì˜ì—ëŠ” ì—†ì—ˆëŠ”ë° ì¢€ ì‹¬ì‹¬í•´ì„œ ì¶”ê°€ë¡œ êµ¬í˜„í•œ ë‚´ìš©ì´ë‹¤.


```javascript
import useSound from 'use-sound'
import pop from '../sound/pop.mp3'
import punch from '../sound/punch.mp3'
import gameOver from '../sound/gameOver.mp3'

export const useSoundBgm = () => {
  const [popBgm] = useSound(pop)
  const [punchBgm] = useSound(punch)
  const [gameOverBgm] = useSound(gameOver)

  return [popBgm, punchBgm, gameOverBgm]
}
```


```javascript
import { useSoundBgm } from '../hooks/useSoundBgm'

export const useGameStatus = (rowCleared) => {
  const [, punchBgm] = useSoundBgm()

  const calcScore = useCallback(() => {
    if (rowCleared > 0) {
      punchBgm()
    }
  }, [punchBgm])
.
.
.
```


ì›¹ ê°œë°œí•˜ë©´ì„œ íš¨ê³¼ìŒ ë„£ëŠ” ê±° ì²˜ìŒ í•´ ë´¤ëŠ”ë° ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©ë²•ì´ ì‰¬ì›Œì„œ ìš¸ì§€ë„ ì•Šê³  ì˜ í•´ëƒˆë‹¤.


## íšŒê³ 


í…ŒíŠ¸ë¦¬ìŠ¤ ë§Œë“œëŠ” ê±° ì¬ë°Œì—ˆë‹¤. ì•Œê³ ë¦¬ì¦˜ í•™ìŠµ ë ˆí¬ ë§ˆì§€ë§‰ ì»¤ë°‹ ì‘ë…„ì¸ë° ì•Œê³ ë¦¬ì¦˜ ê³µë¶€ ì—´ì‹¬íˆ í•´ì•¼ê² ë‹¤.


![c7cd180c891940d8709417538e9101fc.jpg](https://prod-files-secure.s3.us-west-2.amazonaws.com/420927ef-2057-4e77-b9b7-d7005a1db0dd/f2a8250d-d392-4ba0-88de-754e1c5e736c/c7cd180c891940d8709417538e9101fc.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240809%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240809T111638Z&X-Amz-Expires=3600&X-Amz-Signature=3054c784d91908e3e388d42e07f201612aed09ddcf34e3a3703a6b993d70c006&X-Amz-SignedHeaders=host&x-id=GetObject)

