
![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/420927ef-2057-4e77-b9b7-d7005a1db0dd/dca7af9f-e94b-4608-9529-2c4b2e40835f/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240809%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240809T111638Z&X-Amz-Expires=3600&X-Amz-Signature=0ec4ba31b981c7229d3d513de77492b2b96e236134b7fe16ed31bbb19512e02c&X-Amz-SignedHeaders=host&x-id=GetObject)


## 프로토타입이란?


---


일반적으로 프로토타입(prototype)이란 원형이라는 뜻을 가진다. 자바스크립트는 프로토타입 기반 언어이다. 모든 객체들이 메서드와 속성들을 상속 받기 위한 템플릿으로써 프로토타입 객체를 가진다는 의미다.


우리가 함수라는 객체를 생성했을 때 그 객체에는 prototype이라는 object가 자동으로 생성된다. prototype에는 다시 constructor라는 객체가 자동으로 생성되어 서로를 참조할 수 있게 된다.


```javascript
Person.prototype.sum = function(){}
```

- 위 코드를 통해 prototype에 함수를 추가함으로써 여러 객체를 생성하였을 때 해당 함수를 사용할 수 있다.
- 예를 들어 Person이라는 object 안에 mitt, kim이 있는 경우, mitt.sum()과 kim.sum() 둘 다 사용이 가능하다.

인스턴스 객체의 key에 접근할 때, 해당 객체에 key가 없다면 그 다음으로 상위 프로토타입 속성에서 key가 있는지 확인한다. 없다면 그것을 찾기 위해 더 상위의 프로토타입에서 찾는다. 이것을 프로토타입 체인이라고 한다.


## 프로토타입을 더 자세히 알아보자!


---


> sort 메서드를 사용할 수 있는 이유는 무엇일까?


![Untitled_%281%29.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/420927ef-2057-4e77-b9b7-d7005a1db0dd/d68757f6-71e5-4ac3-a636-4ff39fe20a9f/Untitled_%281%29.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240809%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240809T111638Z&X-Amz-Expires=3600&X-Amz-Signature=9d7efbf639e08d9327554f6b5465ee71c875d6479a9cf33eb2f48b624f0074ee&X-Amz-SignedHeaders=host&x-id=GetObject)


![Untitled_%282%29.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/420927ef-2057-4e77-b9b7-d7005a1db0dd/54c44b76-b25d-4673-9a12-c64b62a88781/Untitled_%282%29.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240809%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240809T111638Z&X-Amz-Expires=3600&X-Amz-Signature=e275cd0cdbe4ad7c0d831a371650c2f68a6ec90270000a6144105fe219593f44&X-Amz-SignedHeaders=host&x-id=GetObject)

- 위에서 arr라는 변수를 배열 리터럴로 생성했지만 내부적으로는 new Array()와 같이 생성자 함수로 선언한 것이다. new 키워드는 객체를 생성하는 방법 중 생성자 함수를 사용하여 객체를 만들 때 함께 쓰는 키워드이다.
- new 생성자함수이름()의 형식을 통해 자바스크립트에서 동일한 구성을 가진 객체를 여러 개 만들어낼 수 있다. 이렇게 생성된 인스턴스 arr는 생성자 함수에게서 sort 메서드 등을 상속 받는다. arr 배열 객체의 원형은 Array이다.
- 정확히는 Array == 프로퍼티가 아니라 Array가 가지는 프로토타입이라는 특수한 형태의 객체 프로퍼티를 통해 상속 받는다.

![Untitled_%283%29.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/420927ef-2057-4e77-b9b7-d7005a1db0dd/2f1441b5-d033-4930-8838-3421abbea03a/Untitled_%283%29.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240809%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240809T111638Z&X-Amz-Expires=3600&X-Amz-Signature=d549c787c9d6c1c92742f7a90ad27938989192f910060fcb4f69c1c983363269&X-Amz-SignedHeaders=host&x-id=GetObject)


![Untitled_%284%29.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/420927ef-2057-4e77-b9b7-d7005a1db0dd/da815f0b-8d9d-45ac-a970-886537bd850f/Untitled_%284%29.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240809%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240809T111638Z&X-Amz-Expires=3600&X-Amz-Signature=0ec16e07d32942507d4ad789ce0954518170c0ef5eab35f7154abc6193f008bb&X-Amz-SignedHeaders=host&x-id=GetObject)


### 예제 코드


```javascript
const buzz = {
    flying: true,
};

const woody = Object.create(buzz);
console.log(woody.flying); // true
```


woody는 buzz와 prototype이 링크되었다. woody 내부에는 flying이라는 프로퍼티가 없지만 연결된 buzz에서 해당 프로퍼티를 찾아 그 값을 반환한 것이다.


```javascript
const buzz = {
    flying: true,
};

const woody = Object.create(buzz);
console.log(woody.flying); // true

for (let i in woody) {
    console.log(`${i}를 발견!`); // flying를 발견!
}
```


## Prototype Link VS Prototype Object


---


자바스크립트에는 Prototype Link와 Prototype Object라는 것이 존재하고, 이 둘을 통틀어 Prototype이라고 부른다.


### Prototype Object


```javascript
function Toy() {} // 함수
const personObject = new Person(); // 함수로 객체를 생성
```


personObject 객체는 Person이라는 함수로 생성된 객체이다. 언제나 객체는 함수에서 시작된다. 함수가 정의될 때는 두 가지 일이 동시에 이루어진다.

- 해당 함수에 Constructor(생성자) 자격 부여
- 해당 함수의 Prototype Object 생성 및 연결

![Untitled_%285%29.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/420927ef-2057-4e77-b9b7-d7005a1db0dd/43f6f30e-8147-45e4-91c5-988dcd28ccca/Untitled_%285%29.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240809%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240809T111637Z&X-Amz-Expires=3600&X-Amz-Signature=5f7bc678d1660bd3baca6a01fe83b513022e5561547c712a0386036900585c08&X-Amz-SignedHeaders=host&x-id=GetObject)


그리고 생성된 함수는 prototype이라는 속성을 통해 Prototype Object에 접근할 수 있다. Prototype Object는 일반적인 객체와 같으며 기본적인 속성으로 constructor와 __proto__를 가진다.


![Untitled_%286%29.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/420927ef-2057-4e77-b9b7-d7005a1db0dd/b4c05a45-fa09-4fa0-b41d-9e41f9ae9067/Untitled_%286%29.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240809%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240809T111638Z&X-Amz-Expires=3600&X-Amz-Signature=7d88569d67e7cf53a5c3c5e9d2cec795a4a1e45a74a5131b8dd75ea5aec7aa6c&X-Amz-SignedHeaders=host&x-id=GetObject)


constructor는 Prototype Object와 같이 생성되었던 함수를 가리키고, [[Prototype]] = __proto__는 Prototype Link이다.


```javascript
function Toys() {}
Toys.prototype.flying = true;
Toys.prototype.sleeping = false;

const buzz = new Toys();
const woody = new Toys();

console.log(woody.sleeping); // false
```

- Prototype Object는 일반적인 객체이므로 속성을 마음대로 추가, 삭제 할 수 있다.
- buzz와 woody는 Toys 함수를 통해 생성되었으므로 Toys.prototype을 참조할 수 있게 된다!

![Untitled_%287%29.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/420927ef-2057-4e77-b9b7-d7005a1db0dd/97c1ea8a-5d02-480a-b7c5-adfeff16d778/Untitled_%287%29.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240809%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240809T111637Z&X-Amz-Expires=3600&X-Amz-Signature=dd4a0ea7e5086b0ac06ad59bfed3acfee1b6f46a3c1237884c4ab69835925801&X-Amz-SignedHeaders=host&x-id=GetObject)


### Prototype Link


![Untitled_%288%29.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/420927ef-2057-4e77-b9b7-d7005a1db0dd/413e8ded-a51c-4dab-8fc6-ba94469556e6/Untitled_%288%29.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240809%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240809T111638Z&X-Amz-Expires=3600&X-Amz-Signature=c9f05319fbffc40621a4c54ae5746330afbb406e2efbd4511c5c441cb7fdd1fc&X-Amz-SignedHeaders=host&x-id=GetObject)


Prototype 속성은 함수만 가지고 있던 것과는 달리 proto 속성은 모든 객체가 빠짐없이 가지고 있는 속성이다.


__proto__는 객체가 생성될 때 조상이었던 함수의 Prototype Object를 가리킨다. buzz는 Toys 함수로부터 생성되었으니 Toys 함수의 Prototype Object를 가리키고 있는 것이라고 볼 수 있다.


![Untitled_%289%29.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/420927ef-2057-4e77-b9b7-d7005a1db0dd/bbbba114-74ff-4f36-b980-38b8c371dc21/Untitled_%289%29.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240809%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240809T111638Z&X-Amz-Expires=3600&X-Amz-Signature=acc744063e5f28abb380ec75baad3e44b24c00b7a475780eb3bb175e85347c05&X-Amz-SignedHeaders=host&x-id=GetObject)


##  Prototype Chain


---

- 자바스크립트는 특정 객체의 프로퍼티나 메서드에 접근 시 객체 자신의 것뿐만 아니라 __proto__가 가리키는 링크를 따라서 자신의 부모 역할을 하는 프로토타입 객체의 프로퍼티나 메서드를 접근할 수 있다.
- 즉, 특정 객체의 프로퍼티나 메서드 접근 시 만약 현재 객체의 해당 프로퍼티가 존재하지 않는다면 __proto__가 가리키는 링크를 따라 부모 역할을 하는 프로토타입 객체의 프로퍼티나 메소드를 차례로 검색하는 것이 바로 프로토타입 체인이다.
- 모든 프로토타입 체이닝의 종점은 Object.prototype이다.
- 하위 객체는 상위 객체의 프로퍼티나 메서드를 상속 받는 것이 아니라 공유한다.
- 해당 객체에 없는 프로퍼티나 메서드를 접근할 때 프로토타입 체이닝이 일어난다.

![Untitled_%2810%29.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/420927ef-2057-4e77-b9b7-d7005a1db0dd/94d84db9-7b31-4f98-b835-28622ce97618/Untitled_%2810%29.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240809%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240809T111638Z&X-Amz-Expires=3600&X-Amz-Signature=56914985461a0fb8cede96b892a6f5b27b90de1eb97d330552fd390ff28b6797&X-Amz-SignedHeaders=host&x-id=GetObject)


상속 관점에서 자바스크립트의 유일한 생성자는 객체뿐이다. 각각의 객체는 [[prototype]]이라는 은닉 속성을 가지는데 자신의 프로토타입이 되는 다른 객체를 가리킨다. 그 객체의 프로토타입 또한 프로토타입을 가지고 있고 이것이 반복된다. 결국 null을 프로토타입으로 가지는 오브젝트에서 끝난다. null은 더 이상의 프로토타입이 없다고 정의되며, 프로토타입 체인의 종점 역할을 한다.


## Reference


---


[https://hanamon.kr/javascript-프로토타입과-프로토타입체인/](https://hanamon.kr/javascript-%ED%94%84%EB%A1%9C%ED%86%A0%ED%83%80%EC%9E%85%EA%B3%BC-%ED%94%84%EB%A1%9C%ED%86%A0%ED%83%80%EC%9E%85%EC%B2%B4%EC%9D%B8/)


[https://developer.mozilla.org/ko/docs/Web/JavaScript/Inheritance_and_the_prototype_chain](https://developer.mozilla.org/ko/docs/Web/JavaScript/Inheritance_and_the_prototype_chain)


[https://mygumi.tistory.com/m/312](https://mygumi.tistory.com/m/312)


[https://velog.io/@adam2/자바스크립트-Prototype-완벽-정리](https://velog.io/@adam2/%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-Prototype-%EC%99%84%EB%B2%BD-%EC%A0%95%EB%A6%AC)


[https://velog.io/@turtle601/Prototype이란](https://velog.io/@turtle601/Prototype%EC%9D%B4%EB%9E%80)

