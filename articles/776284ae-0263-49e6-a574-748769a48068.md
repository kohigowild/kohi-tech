---
title: #02. Suspense ì„¸íŒ…
category: Notion APIë¡œ ë¸”ë¡œê·¸ ë§Œë“¤ê¸°
created_time: 2024-07-06
---

![Image](https://boiling-politician-9bc.notion.site/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F420927ef-2057-4e77-b9b7-d7005a1db0dd%2F7cdfb220-b6f4-44e6-bff9-69a8b660e061%2Fdb7f4d1291c49f41fbb7d2bfa667065a.jpg?table=block&id=7fca3369-4cd5-439e-96d7-3b604a9fa69c&cache=v2)


> ğŸ’¡ useSearchParams() should be wrapped in a suspense boundary at page â€œ/â€


## Suspenseë€ ë¬´ì—‡ì¸ê°€


> ë°ì´í„° ë¡œë”©ì´ë‚˜ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…ê³¼ ê°™ì€ ì§€ì—°ëœ ë¦¬ì†ŒìŠ¤ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ê¸°ëŠ¥


ì˜ˆë¥¼ ë“¤ì–´, `next/dynamic` í•¨ìˆ˜ì™€ í•¨ê»˜ ì‚¬ìš©í•˜ì—¬ ì½”ë“œë¥¼ í•„ìš”í•  ë•Œ ë¡œë“œí•˜ê±°ë‚˜, `SWR` ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ê°™ì€ ë°ì´í„° ê°€ì ¸ì˜¤ê¸° ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ì—°ë™í•˜ì—¬ ë°ì´í„°ê°€ ë¡œë“œë  ë•Œê¹Œì§€ ëŒ€ê¸°í•˜ëŠ” ë° í™œìš©ëœë‹¤. SuspenseëŠ” ì‚¬ìš©ì ê²½í—˜ì„ í–¥ìƒì‹œí‚¤ê³ , ë°ì´í„° ë¡œë”© ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” ë° ë„ì›€ì„ ì¤€ë‹¤.

- ì‚¬ìš©ì ê²½í—˜ ê°œì„ : ë°ì´í„°ê°€ ë¡œë”©ë˜ëŠ” ë™ì•ˆ ì‚¬ìš©ìì—ê²Œ ë¡œë”© ìƒíƒœë¥¼ í‘œì‹œí•˜ê±°ë‚˜ ëŒ€ì²´ ì½˜í…ì¸ ë¥¼ ë³´ì—¬ì¤„ ìˆ˜ ìˆë‹¤. ì´ë¡œ ì¸í•´ ì‚¬ìš©ìëŠ” ëŒ€ê¸°í•˜ëŠ” ë™ì•ˆ ë” ë‚˜ì€ ì‚¬ìš©ì ê²½í—˜ì„ ê²½í—˜í•  ìˆ˜ ìˆë‹¤.
- ì½”ë“œ ìŠ¤í”Œë¦¬íŒ… ê´€ë¦¬: `next/dynamic` í•¨ìˆ˜ì™€ í•¨ê»˜ ì‚¬ìš©í•˜ì—¬ í•„ìš”í•  ë•Œ ì½”ë“œë¥¼ ë¡œë“œí•  ìˆ˜ ìˆë‹¤. ì´ëŠ” ì´ˆê¸° í˜ì´ì§€ ë¡œë”© ì‹œì ì„ ìµœì í™”í•˜ê³ , í•„ìš”í•˜ì§€ ì•Šì€ ì½”ë“œë¥¼ ì œê±°í•˜ì—¬ í˜ì´ì§€ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤.
- ë°ì´í„° ë¡œë”© ìµœì í™”: ë°ì´í„° ê°€ì ¸ì˜¤ê¸° ë¼ì´ë¸ŒëŸ¬ë¦¬ì¸ `SWR`ê³¼ ê²°í•©í•˜ì—¬ ë°ì´í„°ê°€ ë¡œë”©ë  ë•Œê¹Œì§€ Suspenseë¥¼ ì‚¬ìš©í•˜ì—¬ ë¡œë”© ìƒíƒœë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤. ì´ëŠ” ë°ì´í„° ì˜ì¡´ì„±ì„ ê´€ë¦¬í•˜ê³ , í•„ìš”í•œ ë°ì´í„°ê°€ ì¤€ë¹„ë  ë•Œê¹Œì§€ ëŒ€ê¸°í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.

```javascript
import { Suspense } from 'react';
import { useSWR } from 'swr';

const fetchData = async () => {
  const response = await fetch('/api/data');
  const data = await response.json();
  return data;
};

const MyComponent = () => {
  const { data, error } = useSWR('/api/data', fetchData);

  if (error) return <div>Failed to load data</div>;

  return (
    <Suspense fallback={<div>Loading...</div>}>
      <div>
        {data ? (
          <ul>
            {data.map(item => (
              <li key={item.id}>{item.name}</li>
            ))}
          </ul>
        ) : (
          <div>No data yet</div>
        )}
      </div>
    </Suspense>
  );
};

export default MyComponent;
```


ìœ„ ì˜ˆì œì—ì„œ `Suspense`ëŠ” ë°ì´í„°ê°€ ë¡œë”©ë˜ëŠ” ë™ì•ˆ `Loading...`ì„ ë³´ì—¬ì£¼ê³ , ë°ì´í„°ê°€ ì¤€ë¹„ë˜ë©´ ë¦¬ìŠ¤íŠ¸ë¥¼ ë Œë”ë§í•œë‹¤. ì´ë¥¼ í†µí•´ ì‚¬ìš©ìëŠ” ë°ì´í„°ê°€ ì¤€ë¹„ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦´ í•„ìš” ì—†ì´ ì‚¬ìš©ì ê²½í—˜ì„ ê°œì„ í•  ìˆ˜ ìˆë‹¤.


![Image](https://boiling-politician-9bc.notion.site/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F420927ef-2057-4e77-b9b7-d7005a1db0dd%2Fcb10070c-0267-4106-89e3-6b7faab2f364%2F43e0be5c39bbedfb7e6deb3b34a0f206.jpg?table=block&id=42beda75-2ee9-4a79-8b40-e9a8a7e36f9a&cache=v2)


> ğŸ’¡ Next.jsì—ì„œ í˜ì´ì§€ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê±°ë‚˜ URL ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¥¼ ì‚¬ìš©í•  ë•Œ, ì´ ì‘ì—…ì´ ë¹„ë™ê¸°ë¡œ ì²˜ë¦¬ë  ìˆ˜ ìˆëŠ”ë°, ì´ëŸ° ê²½ìš° Suspenseë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ê°€ ì¤€ë¹„ë  ë•Œê¹Œì§€ ëŒ€ê¸°í•  ìˆ˜ ìˆë„ë¡ êµ¬ì„±í•´ì•¼ í•œë‹¤.


## Suspense ì ìš©


```javascript
import React, { Suspense } from 'react'
import Loading from '@/components/common/Loading'

export default function SuspenseProvider({
  children,
}: Readonly<{
  children: React.ReactNode
}>) {
  return <Suspense fallback={<Loading />}>{children}</Suspense>
}
```


```javascript
export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode
}>) {
  return (
    <html lang='ko'>
      <RecoilProvider>
        <QueryProvider>
          <Suspense>
            <body>
              {children}
            </body>
          </Suspense>
        </QueryProvider>
      </RecoilProvider>
    </html>
  )
}
```


SuspenseProvider ì»´í¬ë„ŒíŠ¸ë¥¼ RootLayoutì—ì„œ body íƒœê·¸ë¥¼ ê°ì‹¸ê³  ë‚´ë¶€ í˜ì´ì§€ ì „ì²´ì— suspenseê°€ ì ìš©ë  ìˆ˜ ìˆë„ë¡ í–ˆë‹¤. í˜ì´ì§€ ë‚´ë¶€ ë°ì´í„°ê°€ ë¡œë”©ë˜ëŠ” ë™ì•ˆ Loading ì»´í¬ë„ŒíŠ¸ë¥¼ ë³´ì—¬ì¤€ë‹¤.


![Image](https://boiling-politician-9bc.notion.site/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F420927ef-2057-4e77-b9b7-d7005a1db0dd%2Fcf785f82-9e00-436f-9fb5-fcc8a5b49401%2F%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-07-06_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_9.06.54.png?table=block&id=645cb14f-695d-4317-8e62-274b21deaca0&cache=v2)


ë¹Œë“œ ì˜¤ë¥˜ë„ í•´ê²° ì™„ 

