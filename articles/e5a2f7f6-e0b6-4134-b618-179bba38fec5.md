---
title: ì›¹ì†Œì¼“ ì„œë²„ ë°°í¬
category: Notes ğŸ“
created_time: 2024-07-17
---

## ì›¹ì†Œì¼“ ì„œë²„ ì½”ë“œ ì‘ì„± (node.jsì™€ Express)


```javascript
// index.js

const express = require('express');
const http = require('http');
const WebSocket = require('ws');

const app = express();
const server = http.createServer(app);
const wss = new WebSocket.Server({ server });

wss.on('connection', (ws) => {
  console.log('New client connected');
  ws.on('message', (message) => {
    console.log(`Received: ${message}`);
    ws.send(`Echo: ${message}`);
  });

  ws.on('close', () => {
    console.log('Client disconnected');
  });
});

app.get('/', (req, res) => {
  res.send('WebSocket server is running');
});

const PORT = process.env.PORT || 3000;
server.listen(PORT, () => {
  console.log(`Server is listening on port ${PORT}`);
});

```


## Procfile ìƒì„±


í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— Procfile íŒŒì¼ì„ ìƒì„±í•œ ë’¤ ë‹¤ìŒ ë‚´ìš©ì„ ì¶”ê°€í•œë‹¤.


```javascript
web: node index.js
```


## package.json ìˆ˜ì •


HerokuëŠ” ìë™ìœ¼ë¡œ npm installì„ ì‹¤í–‰í•˜ì—¬ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ë¯€ë¡œ, package.json íŒŒì¼ì— start ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì¶”ê°€í•œë‹¤.


```javascript
{
  "name": "websocket-server",
  "version": "1.0.0",
  "main": "index.js",
  "scripts": {
    "start": "node index.js"
  },
  "dependencies": {
    "express": "^4.17.1",
    "ws": "^7.4.5"
  }
}
```


## Herokuì— ì½”ë“œ í‘¸ì‹œ


```javascript
heroku login // Heroku CLI ì„¤ì¹˜ í›„ í„°ë¯¸ë„ì—ì„œ Herokuì— ë¡œê·¸ì¸
heroku create // Heroku ì•± ìƒì„±
git init
heroku git:remote -a <heroku-app-name>
git add .
git commit -m "Initial commit"
git push heroku master
heroku open
```


![%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-07-17_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_8.05.30.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/420927ef-2057-4e77-b9b7-d7005a1db0dd/10a3bf83-b739-426e-9653-37d69574acaa/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-07-17_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_8.05.30.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240809%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240809T135018Z&X-Amz-Expires=3600&X-Amz-Signature=b62015fa24a7f7265383f8fddceb87fc12ec52ea0e7b9f9cb7c0811d20b2a93f&X-Amz-SignedHeaders=host&x-id=GetObject)


ë©‹ì§€ê²Œ ë°°í¬ëœ ë‚˜ì˜ ì›¹ì†Œì¼“ ì„œë²„


## Kaffeine Heroku


Herokuì— Deployëœ ì•±ì— 30ë¶„ê°„ íŠ¸ë˜í”½ì´ ë°œìƒí•˜ì§€ ì•ŠëŠ” ê²½ìš° ì•±ì´ ì ë“¤ê²Œ ë˜ëŠ”ë°, ì ë“¤ì–´ ìˆëŠ” ì•±ì— ìš”ì²­ì´ ë“¤ì–´ê°€ë©´ ì¼ì • ì‹œê°„ì˜ wake-up-timeì´ ë°œìƒí•œë‹¤. wake-up-time ë°œìƒì„ ë§‰ê¸° ìœ„í•´ ì•±ì´ ì ë“¤ì§€ ì•Šë„ë¡ ì§€ì›í•˜ëŠ” ì„œë¹„ìŠ¤ë“¤ì´ ìˆëŠ”ë°, ì´ ì¤‘ í•˜ë‚˜ê°€ Kaffeineì´ë‹¤.


[https://kaffeine.herokuapp.com/](https://kaffeine.herokuapp.com/)


í—¤ë¡œì¿ ì—ì„œ ë°°í¬í•œ ì•± ë„ë©”ì¸ì„ ì…ë ¥í•˜ê³ Â "Give my app a caffeine shot every 30 minitues"ë¥¼ í´ë¦­í•˜ë©´ ì ë“¤ì§€ ì•ŠëŠ” ì•±ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ê·¼ë° ë­â€¦ ì ë“¤ì–´ë„ ë˜ê¸´ í•´ì„œ ìš°ì„ ì€ ì ìš© ë³´ë¥˜í•˜ê¸°ë¡œ í•¨.

